<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ù†Ù…Ø§Ø² Ú©Û’ Ø§ÙˆÙ‚Ø§Øª</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Noto Nastaliq Urdu', serif;
      background-color: #f0f0f0;
      padding: 20px;
      text-align: center;
      overflow: hidden;
    }

    #clock {
      width: 220px;
      height: 220px;
      margin: auto;
      display: block;
    }

    .prayers {
      margin-top: 20px;
      font-size: 20px;
    }

    .prayer {
      margin-bottom: 8px;
    }

    #editBtn {
      margin-top: 20px;
      font-size: 18px;
      padding: 6px 14px;
      cursor: pointer;
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 999;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background-color: rgba(0, 0, 0, 0.4);
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      text-align: right;
      width: 300px;
    }

    .modal-content input {
      width: 100%;
      font-size: 16px;
      margin-bottom: 10px;
    }

    .modal-content button {
      font-size: 16px;
      padding: 6px 12px;
      cursor: pointer;
    }
    
    #date {
  font-size: 22px;
  margin-top: 10px;
  font-weight: bold;
      
    }
  </style>
</head>
<body>

<canvas id="clock" width="220" height="220"></canvas>
<div id="date" style="margin-top: 20px;"></div>
<div class="prayers" id="prayerTimes">
  <div class="prayer">ğŸ•‹ ÙØ¬Ø±: <span id="fajrTime">---</span></div>
  <div class="prayer">â˜€ï¸ Ø¸ÛØ±: <span id="zuhrTime">---</span></div>
  <div class="prayer">ğŸŒ‡ Ø¹ØµØ±: <span id="asrTime">---</span></div>
  <div class="prayer">ğŸŒ† Ù…ØºØ±Ø¨: <span id="maghribTime">---</span></div>
  <div class="prayer">ğŸŒƒ Ø¹Ø´Ø§Ø¡: <span id="ishaTime">---</span></div>
</div>

<button id="editBtn">ğŸ“ Ø§ÙˆÙ‚Ø§Øª ØªØ¨Ø¯ÛŒÙ„ Ú©Ø±ÛŒÚº</button>

<!-- Modal Popup -->
<div class="modal" id="modal">
  <div class="modal-content">
    <label>ÙØ¬Ø±:</label><input type="time" id="fajrInput">
    <label>Ø¸ÛØ±:</label><input type="time" id="zuhrInput">
    <label>Ø¹ØµØ±:</label><input type="time" id="asrInput">
    <label>Ù…ØºØ±Ø¨:</label><input type="time" id="maghribInput">
    <label>Ø¹Ø´Ø§Ø¡:</label><input type="time" id="ishaInput">
    <button onclick="saveTimes()">ğŸ’¾ Ù…Ø­ÙÙˆØ¸ Ú©Ø±ÛŒÚº</button>
  </div>
</div>

<script>
  const canvas = document.getElementById("clock");
  const ctx = canvas.getContext("2d");
  const radius = canvas.height / 2;
  ctx.translate(radius, radius);
  
  let numberPositions = []; // ğŸ”˜ Ù†Ù…Ø¨Ø± Ú©ÛŒ Ù¾ÙˆØ²ÛŒØ´Ù† Ù…Ø­ÙÙˆØ¸
  
  function drawClock() {
    drawFace(ctx, radius);
    drawNumbers(ctx, radius);
    drawTime(ctx, radius);
  }
  
  function drawFace(ctx, radius) {
    ctx.beginPath();
    ctx.arc(0, 0, radius * 0.95, 0, 2 * Math.PI);
    ctx.fillStyle = "white";
    ctx.fill();
    ctx.strokeStyle = "Black";
    ctx.lineWidth = radius * 0.02;
    ctx.stroke();
    ctx.beginPath();
    ctx.arc(0, 0, radius * 0.06, 0, 2 * Math.PI);
    ctx.fillStyle = "black";
    ctx.fill();
  }
  
  function drawNumbers(ctx, radius) {
    ctx.font = radius * 0.15 + "px Arial";
    ctx.textBaseline = "middle";
    ctx.textAlign = "center";
    numberPositions = []; // reset
    
    for (let num = 1; num <= 12; num++) {
      const ang = num * Math.PI / 6;
      const x = Math.cos(ang - Math.PI / 2) * radius * 0.85;
      const y = Math.sin(ang - Math.PI / 2) * radius * 0.85;
      numberPositions.push({ num, x, y }); // ğŸ”˜ Ù¾ÙˆØ²ÛŒØ´Ù† Ù…Ø­ÙÙˆØ¸
      ctx.fillText(num.toString(), x, y);
    }
  }
  
  function drawTime(ctx, radius) {
    const now = new Date();
    let hour = now.getHours();
    let minute = now.getMinutes();
    let second = now.getSeconds();
    hour %= 12;
    hour = (hour * Math.PI / 6) + (minute * Math.PI / (6 * 60)) + (second * Math.PI / (360 * 60));
    drawHand(ctx, hour, radius * 0.5, radius * 0.05);
    minute = (minute * Math.PI / 30) + (second * Math.PI / (30 * 60));
    drawHand(ctx, minute, radius * 0.65, radius * 0.06);
    second = second * Math.PI / 30;
    drawHand(ctx, second, radius * 0.7, radius * 0.02, "red");
  }
  
  function drawHand(ctx, pos, length, width, color = "black") {
    ctx.beginPath();
    ctx.lineWidth = width;
    ctx.lineCap = "round";
    ctx.strokeStyle = color;
    ctx.moveTo(0, 0);
    ctx.rotate(pos);
    ctx.lineTo(0, -length);
    ctx.stroke();
    ctx.rotate(-pos);
  }
  
  setInterval(drawClock, 1000);
  
  function updateDate() {
  const dateElement = document.getElementById("date");
  const now = new Date();
  const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
  const formattedDate = now.toLocaleDateString('ur-PK', options);
  dateElement.innerText = formattedDate;
}

updateDate(); // ÙÙˆØ±Ø§Ù‹ Ú©Ø§Ù„ Ú©Ø±Ùˆ
setInterval(updateDate, 60000); // ÛØ± Ù…Ù†Ù¹ Ù…ÛŒÚº Ø§Ù¾ÚˆÛŒÙ¹ Ú©Ø±Ùˆ
  
  // ğŸ”’ Click sequence logic
  let clickSequence = "";
  canvas.onclick = function(e) {
    const rect = canvas.getBoundingClientRect();
    const x = e.clientX - rect.left - radius;
    const y = e.clientY - rect.top - radius;
    
    for (let i = 0; i < numberPositions.length; i++) {
      const { num, x: nx, y: ny } = numberPositions[i];
      const dx = x - nx;
      const dy = y - ny;
      if (Math.sqrt(dx * dx + dy * dy) < 15) {
        clickSequence += num.toString();
        if (clickSequence.length > 7) clickSequence = clickSequence.slice(-7);
        if (clickSequence === "2126131") {
          window.location.href = "chat.html";
        }
        break;
      }
    }
  };
  
  // ğŸ•Œ Ù†Ù…Ø§Ø² ÙˆÙ‚Øª Ù…Ø­ÙÙˆØ¸ Ú©Ø±Ù†Ø§
  const modal = document.getElementById("modal");
  const editBtn = document.getElementById("editBtn");
  
  editBtn.addEventListener("click", () => {
    modal.style.display = "flex";
  });
  
  function saveTimes() {
    document.getElementById("fajrTime").innerText = document.getElementById("fajrInput").value;
    document.getElementById("zuhrTime").innerText = document.getElementById("zuhrInput").value;
    document.getElementById("asrTime").innerText = document.getElementById("asrInput").value;
    document.getElementById("maghribTime").innerText = document.getElementById("maghribInput").value;
    document.getElementById("ishaTime").innerText = document.getElementById("ishaInput").value;
    modal.style.display = "none";
  }
  
  // Ø¨Ù†Ø¯ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ø¨Ø§ÛØ± Ú©Ù„Ú© Ú©Ø±Ù†Û’ Ù¾Ø±
  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }
</script>

</body>
</html
